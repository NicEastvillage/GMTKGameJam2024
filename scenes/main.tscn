[gd_scene load_steps=18 format=3 uid="uid://dsdchgqwhnrb1"]

[ext_resource type="PackedScene" uid="uid://ckoty6tqe6fqk" path="res://prefabs/background.tscn" id="1_fdc0o"]
[ext_resource type="Script" path="res://scripts/StageLoader.gd" id="1_j62sn"]
[ext_resource type="Script" path="res://scripts/StageData.gd" id="2_jtdm5"]
[ext_resource type="Resource" uid="uid://bbdnhmtor6i7r" path="res://data/S1/S1.tres" id="3_mct4a"]
[ext_resource type="PackedScene" uid="uid://c8jkuwbeqr6so" path="res://prefabs/scale_rigid.tscn" id="8_kxt04"]
[ext_resource type="PackedScene" path="res://prefabs/grabber.tscn" id="9_ra1dw"]
[ext_resource type="Script" path="res://scripts/Killzone.gd" id="10_eq26k"]
[ext_resource type="PackedScene" uid="uid://dfxitsqbpgvks" path="res://prefabs/weight_supply.tscn" id="10_k81j6"]
[ext_resource type="PackedScene" uid="uid://c01tdpda04fu6" path="res://prefabs/hammer.tscn" id="11_dpue7"]
[ext_resource type="Texture2D" uid="uid://bwv7y3gn4qam3" path="res://sprites/Light.png" id="11_ikrsq"]
[ext_resource type="PackedScene" uid="uid://c0h654ovo1bp5" path="res://prefabs/hammer_target.tscn" id="12_ysws8"]
[ext_resource type="Texture2D" uid="uid://cdcdu3kijw8b6" path="res://sprites/Table.png" id="13_6j3kh"]
[ext_resource type="PackedScene" uid="uid://3j4avagguf1f" path="res://prefabs/weights/weight_large_rigid.tscn" id="13_gqy1f"]
[ext_resource type="Script" path="res://scripts/RemoveTimer.gd" id="13_pbv4f"]
[ext_resource type="AudioStream" uid="uid://bgnjbwnwexha2" path="res://sounds/hell1.wav" id="15_yx1tn"]
[ext_resource type="AudioStream" uid="uid://b3iunf1xxl23m" path="res://sounds/heaven.wav" id="16_0o8dg"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_g2q2f"]

[node name="Main2D" type="Node2D" node_paths=PackedStringArray("grabber", "grabber_joint")]
script = ExtResource("1_j62sn")
stages = Array[ExtResource("2_jtdm5")]([ExtResource("3_mct4a")])
grabber = NodePath("Grabber")
grabber_joint = NodePath("grab_joint")

[node name="SpawnPersonTimer" type="Timer" parent="."]
wait_time = 1.7
one_shot = true

[node name="Background" parent="." instance=ExtResource("1_fdc0o")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(321, 25)
color = Color(1, 1, 1, 0.67451)
energy = 0.15
shadow_enabled = true
texture = ExtResource("11_ikrsq")
texture_scale = 2.44

[node name="Documents" type="Node2D" parent="."]
position = Vector2(314, 237)

[node name="Personal" type="Node2D" parent="Documents"]

[node name="scale" parent="." instance=ExtResource("8_kxt04")]
position = Vector2(320, 295)

[node name="Grabber" parent="." instance=ExtResource("9_ra1dw")]
position = Vector2(264, -74)

[node name="grab_joint" type="PinJoint2D" parent="."]
bias = 0.9

[node name="Table" type="Sprite2D" parent="."]
position = Vector2(314, 400)
texture = ExtResource("13_6j3kh")

[node name="WeightSupply" parent="." instance=ExtResource("10_k81j6")]
position = Vector2(211, 340)

[node name="Killzone" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2
script = ExtResource("10_eq26k")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Killzone"]
position = Vector2(0, 803)
shape = SubResource("WorldBoundaryShape2D_g2q2f")

[node name="HammerTarget" parent="." instance=ExtResource("12_ysws8")]
position = Vector2(318, 340)

[node name="hammer" parent="." instance=ExtResource("11_dpue7")]
position = Vector2(494, 326)
rotation = -1.57079

[node name="WeightLarge" parent="." instance=ExtResource("13_gqy1f")]
position = Vector2(70, 178)

[node name="RemoveTimer" type="Timer" parent="."]
one_shot = true
script = ExtResource("13_pbv4f")

[node name="HellSound" type="AudioStreamPlayer2D" parent="."]
position = Vector2(-1, 8)
stream = ExtResource("15_yx1tn")

[node name="HeavenSound" type="AudioStreamPlayer2D" parent="."]
position = Vector2(5, -1)
stream = ExtResource("16_0o8dg")

[connection signal="timeout" from="SpawnPersonTimer" to="." method="_spawn_person"]
[connection signal="body_entered" from="Killzone" to="Killzone" method="_on_body_entered"]
[connection signal="hammer" from="HammerTarget" to="." method="_on_hammer"]
[connection signal="timeout" from="RemoveTimer" to="RemoveTimer" method="_on_timeout"]
